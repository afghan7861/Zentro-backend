# DreamFlow AI üåü

**"Tell Us Your Dream. We'll Show You a Way to Make It Happen."**

DreamFlow AI is a modern web application that helps users turn their dreams and goals into actionable, personalized roadmaps using AI technology. Built with Next.js, Supabase, Stripe, and OpenAI GPT-4o.

## ‚ú® Features

### Core Features
- **AI-Powered Dream Planning**: Generate personalized step-by-step plans using OpenAI GPT-4o
- **User Authentication**: Secure login with email/password and Google OAuth via Supabase
- **Subscription Management**: Three-tier pricing with Stripe integration
- **Voice Generation**: Premium users can convert plans to audio (ElevenLabs integration)
- **Daily Limits**: Free users get 3 plans per day, with unlimited access for paid users

### User Experience
- **Beautiful UI**: Modern, responsive design with smooth animations
- **Progressive Flow**: Guided 3-step process from dream input to plan generation
- **Plan Customization**: Choose from Fast, Balanced, or Chill tones (Pro/Premium)
- **Mobile-First**: Fully responsive design optimized for all devices

### Subscription Tiers
- **Free**: 3 plans/day, core features
- **Pro (¬£4.99/mo)**: Unlimited plans, all tones, save favorites
- **Premium (¬£9.99/mo)**: All Pro features + voice generation, faster AI, early access

## üöÄ Tech Stack

- **Frontend**: Next.js 14, React 18, Tailwind CSS, Framer Motion
- **Backend**: Next.js API Routes, Node.js
- **Database & Auth**: Supabase (PostgreSQL + Auth)
- **Payments**: Stripe
- **AI**: OpenAI GPT-4o
- **Voice**: ElevenLabs API (Premium feature)
- **Styling**: Tailwind CSS with custom design system
- **Icons**: Lucide React
- **Notifications**: React Hot Toast

## üì¶ Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd dreamflow-ai
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   
   Copy `.env.example` to `.env.local` and fill in your API keys:
   
   ```bash
   cp .env.example .env.local
   ```

4. **Configure your environment variables**
   ```env
   # Supabase Configuration
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
   SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

   # Stripe Configuration
   NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
   STRIPE_SECRET_KEY=your_stripe_secret_key

   # OpenAI Configuration
   OPENAI_API_KEY=your_openai_api_key

   # ElevenLabs Configuration (Optional)
   ELEVENLABS_API_KEY=your_elevenlabs_api_key
   ```

5. **Set up the database**
   
   Create the following tables in your Supabase database:

   ```sql
   -- Users table (handled by Supabase Auth)
   
   -- Dream plans table
   CREATE TABLE dream_plans (
     id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
     user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
     dream_text TEXT NOT NULL,
     plan_content TEXT NOT NULL,
     plan_type VARCHAR(20) DEFAULT 'free',
     created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
   );

   -- User subscriptions table
   CREATE TABLE user_subscriptions (
     id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
     user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
     plan_type VARCHAR(20) NOT NULL,
     stripe_subscription_id VARCHAR(255),
     status VARCHAR(50) DEFAULT 'active',
     created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
     updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
   );

   -- Enable RLS (Row Level Security)
   ALTER TABLE dream_plans ENABLE ROW LEVEL SECURITY;
   ALTER TABLE user_subscriptions ENABLE ROW LEVEL SECURITY;

   -- Create policies
   CREATE POLICY "Users can view their own plans" ON dream_plans
     FOR SELECT USING (auth.uid() = user_id);

   CREATE POLICY "Users can insert their own plans" ON dream_plans
     FOR INSERT WITH CHECK (auth.uid() = user_id);

   CREATE POLICY "Users can view their own subscriptions" ON user_subscriptions
     FOR SELECT USING (auth.uid() = user_id);
   ```

6. **Configure Stripe**
   - Set up your Stripe products with the price IDs specified in the code:
     - Pro: `price_1RkQyJP5xBmXAZIzIL3tr2Mf`
     - Premium: `price_1RmEfeP5xBmXAZIzSZf6cDbE`
   - Configure webhooks for subscription management

7. **Run the development server**
   ```bash
   npm run dev
   ```

8. **Open your browser**
   
   Navigate to [http://localhost:3000](http://localhost:3000)

## üéØ Usage

### For Users
1. **Visit the homepage** and click "Start Your Dream Plan"
2. **Sign up or sign in** using email/password or Google
3. **Describe your dream** in the text area
4. **Answer follow-up questions** about your situation
5. **Get your personalized plan** generated by AI
6. **Upgrade to Pro/Premium** for additional features

### For Developers
- The app follows Next.js conventions with pages in the `pages/` directory
- API routes are in `pages/api/`
- Reusable components are in `components/`
- Utility functions are in `lib/`
- Global styles are in `styles/`

## üîß Configuration

### Supabase Setup
1. Create a new Supabase project
2. Enable Google OAuth in Authentication settings
3. Set up the database schema (see Installation step 5)
4. Configure RLS policies for data security

### Stripe Setup
1. Create products for Pro and Premium plans
2. Copy the price IDs to your environment variables
3. Set up webhooks for subscription events
4. Configure success/cancel URLs

### OpenAI Setup
1. Get an API key from OpenAI
2. Ensure you have access to GPT-4o model
3. Set up appropriate usage limits

### ElevenLabs Setup (Optional)
1. Create an ElevenLabs account
2. Get your API key
3. Choose default voice ID for generation

## üöÄ Deployment

### Vercel (Recommended)
1. Connect your GitHub repository to Vercel
2. Set up environment variables in Vercel dashboard
3. Deploy automatically on push to main branch

### Other Platforms
The app can be deployed on any platform that supports Next.js:
- Netlify
- Railway
- Heroku
- AWS
- Google Cloud

## üìù API Reference

### Authentication
All API routes require authentication via Supabase JWT tokens.

### Endpoints

#### `POST /api/generate-plan`
Generate a personalized dream plan.

**Request Body:**
```json
{
  "dreamText": "Start a podcast",
  "userDetails": {
    "age": "25-34",
    "workStatus": "Full-time job",
    "timeCommitment": "3-5 hours",
    "skills": "Good at talking, creative",
    "timeline": "Within 3 months"
  },
  "planTone": "balanced"
}
```

#### `POST /api/generate-voice`
Generate voice version of a plan (Premium only).

**Request Body:**
```json
{
  "planContent": "Your dream plan content here...",
  "voiceId": "optional_voice_id"
}
```

#### `POST /api/checkout`
Create Stripe checkout session.

**Request Body:**
```json
{
  "priceId": "price_1RkQyJP5xBmXAZIzIL3tr2Mf",
  "userId": "user_uuid"
}
```

## üé® Design System

The app uses a custom design system built with Tailwind CSS:

- **Colors**: Purple primary, blue secondary, with 50-900 shades
- **Typography**: Inter font family with various weights
- **Spacing**: Consistent 8px grid system
- **Components**: Reusable button, card, and form styles
- **Animations**: Smooth transitions and micro-interactions

## üîí Security

- **Authentication**: Secure JWT-based auth with Supabase
- **Database**: Row Level Security (RLS) policies
- **API**: Server-side validation and sanitization
- **Payments**: Secure Stripe integration
- **Environment**: Sensitive data in environment variables

## üìä Analytics & Monitoring

Consider integrating:
- Google Analytics for user behavior
- Sentry for error tracking
- Stripe Dashboard for payment analytics
- Supabase Analytics for database insights

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## üìÑ License

This project is licensed under the MIT License.

## üÜò Support

For support, please contact [your-email@example.com] or create an issue in the GitHub repository.

---

**Built with ‚ù§Ô∏è by [Your Name]**

*Turning dreams into reality, one step at a time.*